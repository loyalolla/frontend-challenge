{"version":3,"sources":["components/App/App.module.scss","components/Card/Card.module.scss","utils/api.js","utils/LocalStorage.js","components/Card/Card.js","pages/HomePage/HomePage.js","pages/FavouritesPage/FavouritesPage.js","components/App/App.js","reportWebVitals.js","index.js","pages/Page.module.scss"],"names":["module","exports","apiMap","search","page","this","prefix","key","value","localStorage","getItem","JSON","parse","e","prefixedKey","setItem","stringify","Card","props","id","url","useState","liked","setLiked","useEffect","ls","get","includes","className","styles","imgContainer","img","src","alt","loading","classnames","like","likeClicked","onClick","newFav","oldFav","filter","val","set","bind","HomePage","images","setImages","currentPage","setCurrentPage","setLoading","getCats","type","path","fetch","headers","process","then","response","ok","json","Error","status","request","data","container","imagesContainer","map","image","index","buttonContainer","loadingText","button","nextPage","FavouritesPage","list","setList","favList","emptyText","length","to","imageId","App","basename","header","exact","activeClassName","linkActive","link","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sIACAA,EAAOC,QAAU,CAAC,OAAS,oBAAoB,KAAO,kBAAkB,WAAa,0B,mBCArFD,EAAOC,QAAU,CAAC,aAAe,2BAA2B,KAAO,mBAAmB,IAAM,kBAAkB,YAAc,4B,iLCCtHC,EAAS,CACbC,OAAQ,eAACC,EAAD,uDAAQ,EAAR,yEACsDA,K,gBC+BjD,M,WAhCb,aAAe,oBACbC,KAAKC,OAJoB,c,uCAO3B,SAAIC,GACF,IAAKA,EACH,OAAO,KAET,IAAMC,EAAQC,aAAaC,QAAb,UAAwBL,KAAKC,OAA7B,YAAuCC,IAErD,GAAqB,kBAAVC,EACT,IACE,OAAOG,KAAKC,MAAMJ,GAClB,MAAOK,GACP,OAAO,KAGX,OAAO,O,iBAGT,WAAsB,IAAlBN,EAAiB,uDAAX,GAAIC,EAAO,uCACnB,IAAKD,IAAQC,EACX,OAAO,KAGT,IAAMM,EAAW,UAAMT,KAAKC,OAAX,YAAqBC,GAGtC,OADAE,aAAaM,QAAQD,EAAaH,KAAKK,UAAUR,IAC1CA,M,8BCzBJ,SAASS,EAAKC,GAAQ,IACnBC,EAAYD,EAAZC,GAAIC,EAAQF,EAARE,IADc,EAEAC,oBAAS,GAFT,mBAEnBC,EAFmB,KAEZC,EAFY,KA6B1B,OANAC,qBAAU,YAlBQC,EAAGC,IAAI,QAAU,IAClBC,SAASR,IAmBtBI,GAAS,KAEV,IAGD,sBAAKK,UAAWC,IAAOC,aAAvB,UACE,qBAAKF,UAAWC,IAAOE,IAAKC,IAAKZ,EAAKa,IAAI,MAAMC,QAAQ,SACxD,qBACEN,UAAWO,IAAWN,IAAOO,KAAR,eAAiBP,IAAOQ,YAAcf,IAC3DgB,QAzBc,SAACnB,GACnBI,GAAUD,GACV,IACIiB,EADEC,EAASf,EAAGC,IAAI,QAAU,GAK9Ba,EAFEC,EAAOb,SAASR,GAETqB,EAAOC,QAAO,SAACC,GAAD,OAASA,IAAQvB,KAGlC,sBAAOqB,GAAP,CAAerB,IAEvBM,EAAGkB,IAAI,MAAOJ,IAaWK,KAAK,KAAMzB,Q,oBCnCjC,SAAS0B,IAAY,IAAD,EACGxB,mBAAS,IADZ,mBAClByB,EADkB,KACVC,EADU,OAEa1B,mBAAS,GAFtB,mBAElB2B,EAFkB,KAELC,EAFK,OAGK5B,oBAAS,GAHd,mBAGlBa,EAHkB,KAGTgB,EAHS,KAKnBC,EAAU,SAAC/C,GACf8C,GAAW,GHJQ,SAACE,EAAMlC,GAC5B,GAAKkC,EAAL,CAGA,IAAIhC,EAAMlB,EAAOkD,GACE,oBAARhC,IACTA,EAAMA,EAAIF,IAEZ,IAAMmC,EAAI,UAdK,6BAcL,OAAiBjC,GAC3B,OAAOkC,MAAMD,EAAM,CACjBE,QAAS,CACP,YAlBUC,0CAoBXC,MAAK,SAACC,GACP,GAAIA,EAASC,GACX,OAAOD,EAASE,OAGlB,MAAM,IAAIC,MAAMH,EAASI,YGbzBC,CAAQ,SAAU3D,GAAMqD,MAAK,SAACO,GAC5Bd,GAAW,GACXH,EAAU,GAAD,mBAAKD,GAAL,YAAgBkB,SAG7BxC,qBAAU,WACR2B,EAAQH,KACP,IAOH,OACE,sBAAKpB,UAAWC,IAAOoC,UAAvB,UACE,qBAAKrC,UAAWC,IAAOqC,gBAAvB,SACGpB,EAAOqB,KAAI,SAACC,EAAOC,GAClB,OAGE,aAFA,CAEA,gBACE,cAACpD,EAAD,CAAME,GAAIiD,EAAMjD,GAAIC,IAAKgD,EAAMhD,OADvBgD,EAAMjD,GAAKkD,QAO3B,qBAAKzC,UAAWC,IAAOyC,gBAAvB,SACGpC,EACC,qBAAKN,UAAWC,IAAO0C,YAAvB,0IAEA,qBAAK3C,UAAWC,IAAO2C,OAAvB,SACE,wBAAQlC,QAzBE,WAClB,IAAMmC,EAAWzB,EAAc,EAC/BC,EAAewB,GACftB,EAAQsB,IAsBA,sJCvCL,SAASC,IAAkB,IAAD,EACPrD,mBAAS,IADF,mBACxBsD,EADwB,KAClBC,EADkB,KAO/B,OALApD,qBAAU,WACR,IAAMqD,EAAUpD,EAAGC,IAAI,QAAU,GACjCkD,EAAQC,KACP,IAGD,sBAAKjD,UAAWC,IAAOoC,UAAvB,UACE,qBAAKrC,UAAWC,IAAOiD,UAAvB,UACIH,EAAKI,QACL,qCACE,8NACA,cAAC,IAAD,CAAMC,GAAG,IAAT,mJAIN,qBAAKpD,UAAWC,IAAOqC,gBAAvB,SACGS,EAAKI,OAAS,GACbJ,EAAKR,KAAI,SAACc,GACR,OACE,8BACE,cAAChE,EAAD,CACEE,GAAI8D,EACJ7D,IAAG,4CAAuC6D,EAAvC,WAHGA,WCjBjB,SAASC,IACd,OACE,mCACE,eAAC,IAAD,CAAQC,SAAU3B,sBAAlB,UAEE,yBAAQ5B,UAAWC,IAAOuD,OAA1B,UACE,cAAC,IAAD,CACEC,OAAK,EACLC,gBAAiBzD,IAAO0D,WACxB3D,UAAWC,IAAO2D,KAClBR,GAAG,IAJL,qEAQA,cAAC,IAAD,CACEK,OAAK,EACLC,gBAAiBzD,IAAO0D,WACxB3D,UAAWC,IAAO2D,KAClBR,GAAG,cAJL,gGASF,+BACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO3B,KAAK,IAAIgC,OAAK,EAACI,UAAW5C,IACjC,cAAC,IAAD,CAAOQ,KAAK,cAAcgC,OAAK,EAACI,UAAWf,cCpCvD,IAYegB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnC,MAAK,YAAkD,IAA/CoC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAClB,EAAD,MAEFmB,SAASC,eAAe,SAM1BZ,K,kBCfA1F,EAAOC,QAAU,CAAC,UAAY,wBAAwB,gBAAkB,8BAA8B,gBAAkB,8BAA8B,OAAS,qBAAqB,YAAc,0BAA0B,UAAY,2B","file":"static/js/main.dfd47168.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__3MgOT\",\"link\":\"App_link__LYvb9\",\"linkActive\":\"App_linkActive__2eob8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgContainer\":\"Card_imgContainer__3-iPs\",\"like\":\"Card_like__bd_kp\",\"img\":\"Card_img__1qgJC\",\"likeClicked\":\"Card_likeClicked__2HjLY\"};","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst BASE_URL = \"https://api.thecatapi.com\";\r\nconst apiMap = {\r\n  search: (page = 0) =>\r\n    `/v1/images/search?size=full&mime_types=jpg&limit=20&page=${page}`,\r\n};\r\n\r\nexport const request = (type, props) => {\r\n  if (!type) {\r\n    return;\r\n  }\r\n  let url = apiMap[type];\r\n  if (typeof url === \"function\") {\r\n    url = url(props);\r\n  }\r\n  const path = `${BASE_URL}${url}`;\r\n  return fetch(path, {\r\n    headers: {\r\n      \"x-api-key\": API_KEY,\r\n    },\r\n  }).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    throw new Error(response.status);\r\n  });\r\n};\r\n","export const defaultPrefix = '__kitty_app'\r\n\r\nclass LocalStorage {\r\n  constructor() {\r\n    this.prefix = defaultPrefix;\r\n  }\r\n\r\n  get(key) {\r\n    if (!key) {\r\n      return null;\r\n    }\r\n    const value = localStorage.getItem(`${this.prefix}_${key}`);\r\n\r\n    if (typeof value === 'string') {\r\n      try {\r\n        return JSON.parse(value);\r\n      } catch (e) {\r\n        return null;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  set(key = '', value) {\r\n    if (!key || !value) {\r\n      return null;\r\n    }\r\n\r\n    const prefixedKey = `${this.prefix}_${key}`;\r\n\r\n    localStorage.setItem(prefixedKey, JSON.stringify(value));\r\n    return value;\r\n  }\r\n}\r\n\r\nexport default new LocalStorage();\r\n","// import {ReactComponent as Heart} from '../../icons/heart_empty.svg';\r\nimport classnames from \"classnames\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ls } from \"../../utils\";\r\nimport styles from \"./Card.module.scss\";\r\n\r\nexport function Card(props) {\r\n  const { id, url } = props;\r\n  const [liked, setLiked] = useState(false);\r\n\r\n  const isAlreadyLiked = () => {\r\n    const favList = ls.get(\"fav\") || [];\r\n    return favList.includes(id);\r\n  };\r\n\r\n  const handleClick = (id) => {\r\n    setLiked(!liked);\r\n    const oldFav = ls.get(\"fav\") || [];\r\n    let newFav;\r\n\r\n    if (oldFav.includes(id)) {\r\n      // dislike\r\n      newFav = oldFav.filter((val) => val !== id);\r\n    } else {\r\n      // like\r\n      newFav = [...oldFav, id];\r\n    }\r\n    ls.set(\"fav\", newFav);\r\n  };\r\n  useEffect(() => {\r\n    if (isAlreadyLiked()) {\r\n      setLiked(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.imgContainer}>\r\n      <img className={styles.img} src={url} alt=\"img\" loading=\"lazy\" />\r\n      <div\r\n        className={classnames(styles.like, { [styles.likeClicked]: liked })}\r\n        onClick={handleClick.bind(null, id)}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Card } from \"../../components/Card\";\r\nimport { request } from \"../../utils\";\r\nimport styles from \"../Page.module.scss\";\r\n\r\nexport function HomePage() {\r\n  const [images, setImages] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getCats = (page) => {\r\n    setLoading(true);\r\n    request(\"search\", page).then((data) => {\r\n      setLoading(false);\r\n      setImages([...images, ...data]);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    getCats(currentPage);\r\n  }, []);\r\n  const handleClick = () => {\r\n    const nextPage = currentPage + 1;\r\n    setCurrentPage(nextPage);\r\n    getCats(nextPage);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.imagesContainer}>\r\n        {images.map((image, index) => {\r\n          return (\r\n            // –ø—Ä–∏–±–∞–≤–ª—è–µ–º index, –ø–æ—Ç–æ–º—É —á—Ç–æ\r\n            // –º–æ–≥—É—Ç –ø—Ä–∏–π—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–∑ api\r\n            <div key={image.id + index}>\r\n              <Card id={image.id} url={image.url} />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className={styles.buttonContainer}>\r\n        {loading ? (\r\n          <div className={styles.loadingText}>... –∑–∞–≥—Ä—É–∂–∞–µ–º –µ—â–µ –∫–æ—Ç–∏–∫–æ–≤ ...</div>\r\n        ) : (\r\n          <div className={styles.button}>\r\n            <button onClick={handleClick}>–∑–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ –∫–æ—Ç–∏–∫–æ–≤ üêà</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card } from \"../../components/Card\";\r\nimport { ls } from \"../../utils\";\r\nimport styles from \"../Page.module.scss\";\r\n\r\nexport function FavouritesPage() {\r\n  const [list, setList] = useState([]);\r\n  useEffect(() => {\r\n    const favList = ls.get(\"fav\") || [];\r\n    setList(favList);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.emptyText}>\r\n        {!list.length && (\r\n          <>\r\n            <div>–£ –≤–∞—Å –ø–æ–∫–∞ –µ—â–µ –Ω–µ—Ç –ª—é–±–∏–º—ã—Ö –∫–æ—Ç–∏–∫–æ–≤ üòø</div>\r\n            <Link to=\"/\">–ù–∞—á–∞—Ç—å –≤—ã–±–∏—Ä–∞—Ç—å –∫–æ—Ç–∏–∫–æ–≤</Link>\r\n          </>\r\n        )}\r\n      </div>\r\n      <div className={styles.imagesContainer}>\r\n        {list.length > 0 &&\r\n          list.map((imageId) => {\r\n            return (\r\n              <div key={imageId}>\r\n                <Card\r\n                  id={imageId}\r\n                  url={`https://cdn2.thecatapi.com/images/${imageId}.jpg`}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import styles from \"./App.module.scss\";\nimport React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n} from \"react-router-dom\";\nimport { HomePage, FavouritesPage } from \"../../pages\";\n\nexport function App() {\n  return (\n    <>\n      <Router basename={process.env.PUBLIC_URL}>\n        {/* –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–∞–ª–µ–Ω—å–∫–æ–µ, —Ö–µ–¥–µ—Ä –Ω–µ –≤—ã–Ω–æ—Å–∏–º –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª */}\n        <header className={styles.header}>\n          <NavLink\n            exact\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            to=\"/\"\n          >\n            –í—Å–µ –∫–æ—Ç–∏–∫–∏\n          </NavLink>\n          <NavLink\n            exact\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            to=\"/favourites\"\n          >\n            –õ—é–±–∏–º—ã–µ –∫–æ—Ç–∏–∫–∏\n          </NavLink>\n        </header>\n        <main>\n          <Switch>\n            <Route path=\"/\" exact component={HomePage} />\n            <Route path=\"/favourites\" exact component={FavouritesPage} />\n          </Switch>\n        </main>\n      </Router>\n    </>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport {App} from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Page_container__ljxZ2\",\"imagesContainer\":\"Page_imagesContainer__MsIB9\",\"buttonContainer\":\"Page_buttonContainer__3TWrt\",\"button\":\"Page_button__2J3G7\",\"loadingText\":\"Page_loadingText__3qdTr\",\"emptyText\":\"Page_emptyText__15XMV\"};"],"sourceRoot":""}